<!doctype html>
<html> 
 <head> 
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
  </style> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script> 
  <script src="Tax Invoice.css"></script> 
 <style type="text/css" id="dcoder_stylesheet">body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  h1 {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    text-align: center;
  }
  form {
    margin: 15px;
  }
  label {
    display: inline-block;
    width: 150px;
    text-align: right;
    margin-right: 10px;
  }
  input[type="text"], input[type="number"] {
    width: 200px;
    padding: 5px;
    margin-bottom: 10px;
  }
  table {
    border-collapse: collapse;
    width: 100%;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }
  th {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
  }
  button {
    background-color: #4CAF50;
    color: white;
    padding: 10px;
    border: none;
    cursor: pointer;
    margin-top: 10px;
  }
  button:hover {
    background-color: #3e8e41;
  }
  #totalAmountWithGstInWords {
    font-weight: bold;
    font-size: 1.2em;
    margin-left: 20px;
  }</style></head> 
 <body> 
  <h1>Tax Invoice</h1> 
  <form> <label for="customerName">Customer Name:</label> 
   <br> 
   <input type="text" id="customerName" name="customerName"> 
   <br> 
   <table id="bill"> 
    <tbody> 
     <tr> 
      <th>Item Name</th> 
      <th>Quantity</th> 
      <th>Rate</th> 
      <th>Amount</th> 
      <th></th> 
     </tr> 
     <tr> 
      <td><input type="text" name="itemName[]"></td> 
      <td><input type="number" name="quantity[]" oninput="calculateAmount(this)"></td> 
      <td><input type="number" name="rate[]" oninput="calculateAmount(this)"></td> 
      <td><input type="number" name="amount[]" readonly></td> 
      <td></td> 
     </tr> 
    </tbody> 
   </table> <button type="button" onclick="addRow()">Add Item</button> 
   <br> 
   <br> 
   <table> 
    <tbody> 
     <tr> 
      <th>Total Amount:</th> 
      <td><input type="number" id="totalAmount" name="totalAmount" readonly></td> 
     </tr> 
     <tr> 
      <th>GST (18%):</th> 
      <td><input type="number" id="gstAmount" name="gstAmount" readonly></td> 
     </tr> 
     <tr> 
      <th>Total Amount with GST:</th> 
      <td><input type="number" id="totalAmountWithGst" name="totalAmountWithGst" readonly></td> 
     </tr> 
     <tr> 
      <th>Shop Name:</th> 
      <td>Shreyash Wholesale Dealers</td> 
     </tr> 
    </tbody> 
   </table> 
   <br> 
   <br> <button type="button" onclick="generateImage()">Download as Image</button> <button type="button" onclick="newBill()">New</button> 
  </form> 
  <script>
    function calculateAmount(input) {
      var row = input.parentNode.parentNode;
      var quantity = row.cells[1].getElementsByTagName("input")[0].value;
      var rate = row.cells[2].getElementsByTagName("input")[0].value;
      var amount = row.cells[3].getElementsByTagName("input")[0];
      amount.value = quantity * rate;
      calculateTotal();
    }

    function addRow() {
      var table = document.querySelector("#bill");
      var row = table.insertRow(-1);
      var cell1 = row.insertCell(0);
      var cell2 = row.insertCell(1);
      var cell3 = row.insertCell(2);
      var cell4 = row.insertCell(3);
      var cell5 = row.insertCell(4);
      cell1.innerHTML = "<input type='text' name='itemName[]'>";
      cell2.innerHTML = "<input type='number' name='quantity[]' oninput='calculateAmount(this)'>";
      cell3.innerHTML = "<input type='number' name='rate[]' oninput='calculateAmount(this)'>";
      cell4.innerHTML = "<input type='number' name='amount[]' readonly>";
      cell5.innerHTML = "<button type='button' onclick='removeRow(this)'>Remove Item</button>";
    }

    function removeRow(button) {
      var row = button.parentNode.parentNode;
      row.parentNode.removeChild(row);
      calculateTotal();
    }

    function calculateTotal() {
      var amounts = document.getElementsByName("amount[]");
      var total = 0;
      for (var i = 0; i < amounts.length; i++) {
        total += parseFloat(amounts[i].value);
      }
      document.getElementById("totalAmount").value = total;
      document.getElementById("gstAmount").value = total * 0.18;
      document.getElementById("totalAmountWithGst").value = total + total * 0.18;
    }

    function generateImage() {
      html2canvas(document.body).then(function(canvas) {
        var image = canvas.toDataURL("image/png");
        var link = document.createElement("a");
        link.href = image;
        link.download = "bill.png";
        link.click();
      });
    }

    function newBill() {
      location.reload();
    }
  </script> 
 
<script type="text/javascript" id="dcoder_script">function addRow() {
    var table = document.getElementById("bill");
    var row = table.insertRow(-1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    var cell5 = row.insertCell(4);
    cell1.innerHTML = '<input type="text" name="itemName[]">';
    cell2.innerHTML = '<input type="number" name="quantity[]" oninput="calculateAmount(this)">';
    cell3.innerHTML = '<input type="number" name="rate[]" oninput="calculateAmount(this)">';
    cell4.innerHTML = '<input type="number" name="amount[]" readonly>';
    cell5.innerHTML = '<button onclick="removeRow(this)">Remove</button>';
  
    // Clear all input fields
    var inputs = document.getElementsByTagName("input");
    for (var i = 0; i < inputs.length; i++) {
      if (inputs[i].type === "text" || inputs[i].type === "number") {
        inputs[i].value = "";
      }
    }
  }
</script></body></html>